#!/bin/execlineb -P

###################################
# Start the system logging daemon #
###################################

backtick -in SYSLOGD { which syslogd }
# Source default settings
envfile /etc/default/syslogd
multisubstitute {
  importas -u syslogd SYSLOGD
  importas -usd" " syslogd_opts SYSLOGD_OPTS
}
foreground { echo "syslogd: Starting syslogd daemon: ${syslogd} -F" $syslogd_opts }
# Using /dev/log socket availability as syslogd readiness indicator
s6-notifyoncheck -dc "[ -S /dev/log ]"
exec -c $syslogd -F $syslogd_opts
